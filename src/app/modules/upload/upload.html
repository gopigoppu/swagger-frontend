<div class="card mb-4">
    <div class="card-header">Upload OpenAPI/Swagger Spec</div>
    <div class="card-body">
        <form (ngSubmit)="onSubmit()" #uploadForm="ngForm">
            <div class="mb-3">
                <label for="fileInput" class="form-label">File Upload (YAML or JSON)</label>
                <input type="file" class="form-control" id="fileInput" (change)="onFileChange($event)"
                    accept=".yaml,.yml,.json" />
            </div>
            <div class="mb-3 text-center">or</div>
            <div class="mb-3">
                <label for="urlInput" class="form-label">Public URL</label>
                <input type="url" class="form-control" id="urlInput" [(ngModel)]="url" name="url"
                    placeholder="https://example.com/openapi.yaml" />
            </div>
            <div class="d-flex gap-2">
                <button type="button" class="btn btn-primary" (click)="uploadFile()" [disabled]="!selectedFile">Upload
                    File</button>
                <button type="button" class="btn btn-secondary" (click)="uploadUrl()" [disabled]="!url">Upload
                    URL</button>
            </div>
            @if (progress > 0){
            <div class="progress mt-3">
                <div class="progress-bar" role="progressbar" [style.width.%]="progress" aria-valuenow="progress"
                    aria-valuemin="0" aria-valuemax="100">{{progress}}%</div>
            </div>
            }
            @if (error){
            <div class="alert alert-danger mt-3">{{error}}</div>
            }
        </form>
    </div>
</div>